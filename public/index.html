<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💰 Expense Tracker - Kelola Keuangan dengan Mudah</title>
    
    <!-- ✅ Preload fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <!-- ✅ HERO Section - Only show when NOT logged in -->
        <section class="hero" id="heroSection">
            <div class="hero-content">
                <h1>💰 Expense Tracker</h1>
                <p class="hero-tagline">Kelola pemasukan & pengeluaran Anda dengan mudah — cepat, aman, dan mobile-friendly.</p>

                <ul class="hero-features">
                    <li>📧 Email verifikasi otomatis</li>
                    <li>💳 Tambah / hapus transaksi</li>
                    <li>📊 Ringkasan saldo & kategori</li>
                    <li>🔒 Aman & terenkripsi</li>
                </ul>

                <div class="hero-actions">
                    <button class="btn btn-primary btn-large" id="ctaSignup">Mulai Gratis</button>
                    <button class="btn btn-secondary btn-large" id="ctaLogin">Login</button>
                </div>

                <p class="hero-footer">
                    ✨ Gratis selamanya • Tanpa iklan • Data Anda aman
                </p>
            </div>

            <div class="hero-visual" aria-hidden="true">
                <div class="mockup">
                    <div class="mockup-header">💰 Saldo Anda</div>
                    <div class="mockup-balance">Rp 2.500.000</div>
                    <div class="mockup-row">
                        <div class="mockup-col income">
                            <div class="mockup-label">Income</div>
                            <div>+Rp 5.000.000</div>
                        </div>
                        <div class="mockup-col expense">
                            <div class="mockup-label">Expense</div>
                            <div>-Rp 2.500.000</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ✅ Header - Only show when logged in -->
        <header id="appHeader" style="display: none;">
            <h1>💰 Expense Tracker</h1>
            <div class="auth-section">
                <span id="userEmail" class="user-info"></span>
                <button id="logoutBtn" class="btn btn-secondary">Logout</button>
            </div>
        </header>

        <!-- ✅ Main Content - Only show when logged in -->
        <div id="mainContent" style="display: none;">
            <section class="summary">
                <div class="balance">
                    <h2>Total Balance</h2>
                    <div id="totalBalance">Rp 0</div>
                </div>

                <div class="stats">
                    <div class="income">
                        <h3>Income</h3>
                        <div id="totalIncome">Rp 0</div>
                    </div>
                    <div class="expense">
                        <h3>Expense</h3>
                        <div id="totalExpense">Rp 0</div>
                    </div>
                </div>
            </section>

            <section class="add-transaction">
                <h3>Tambah Transaksi Baru</h3>
                <form id="transactionForm">
                    <input type="text" id="description" placeholder="Deskripsi (cth: Gaji Bulanan)" required>
                    <input type="number" id="amount" placeholder="Jumlah (Rp)" step="0.01" required>
                    <select id="type" required>
                        <option value="">Pilih Tipe</option>
                        <option value="income">💰 Pemasukan</option>
                        <option value="expense">💸 Pengeluaran</option>
                    </select>
                    <select id="category" required>
                        <option value="">Pilih Kategori</option>
                        <option value="food">🍔 Makanan & Minuman</option>
                        <option value="transport">🚗 Transportasi</option>
                        <option value="entertainment">🎬 Hiburan</option>
                        <option value="bills">📄 Tagihan</option>
                        <option value="salary">💼 Gaji</option>
                        <option value="other">📦 Lainnya</option>
                    </select>
                    <button type="submit" class="btn btn-primary">Tambah Transaksi</button>
                </form>
            </section>

            <section class="transactions">
                <h3>Riwayat Transaksi</h3>
                <div id="transactionsList"></div>
            </section>
        </div>

        <!-- ✅ Login Modal -->
        <div id="loginModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>🔐 Login</h2>
                <form id="loginForm">
                    <input type="email" id="email" placeholder="Email" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <p style="text-align: center; margin-top: 15px;">
                    Belum punya akun?
                    <a href="#" id="showSignup" style="color: #667eea; font-weight: 500;">Daftar Sekarang</a>
                </p>
            </div>
        </div>

        <!-- ✅ Signup Modal -->
        <div id="signupModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>📝 Daftar Gratis</h2>
                <form id="signupForm">
                    <input type="email" id="signupEmail" placeholder="Email" required>
                    <input type="password" id="signupPassword" placeholder="Password (min 6 karakter)" required>
                    <button type="submit" class="btn btn-primary">Daftar Sekarang</button>
                </form>
                <p style="text-align: center; margin-top: 15px;">
                    Sudah punya akun?
                    <a href="#" id="showLogin" style="color: #667eea; font-weight: 500;">Login</a>
                </p>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="expenses.js"></script>
    <script src="app.js"></script>
</body>
</html>